(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1575:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(91),r=n(5),l=n(113),s=n(36),p=n(35),c=n.n(p),m=n(94),u=n.n(m),d=n(44),h=n(20),f=n(18),g=n(308),b=n(1293),w=n(1314),C=n(226),y=n(33),v=n(28),x=n(42),P=n(228),j=n(185),O=n(484),_=n(124),M=n(41),k=n.n(M),N=n(307),I=n(158),E=n(1333),S=n(195),W=n(294),F=n.n(W),B=n(14),T=n.n(B),z=n(183),A=n(151),q=n(67),U=n(390),V=n.n(U);function Y(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var D=n(1344),H={VideoWrapper:r.e.div.withConfig({displayName:"VideoFilestyled__VideoWrapper",componentId:"ju22xl-0"})(["position:relative !important;display:flex !important;align-items:center !important;justify-content:center !important;"]),Video:r.e.video.withConfig({displayName:"VideoFilestyled__Video",componentId:"ju22xl-1"})(["display:block !important;max-width:100% !important;max-height:100% !important;object-fit:cover !important;",""],(function(e){return e.isMobilePopup&&Object(r.d)(["border-radius:12px !important;"])})),SVGIcon:Object(r.e)(S.b).withConfig({displayName:"VideoFilestyled__SVGIcon",componentId:"ju22xl-2"})(["position:absolute !important;top:0 !important;right:0 !important;"])};function R(e,t){var n=e.height,a=e.width,r=e.file,l=e.isMobilePopup,s=e.onEvent,p=void 0===s?c.a:s,m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.a.useCallback((function(e){var n=T()(t).call(t,Boolean);return n.length?0===n.length?n[0]:void n.forEach((function(t){return Y(t,e)})):null}),[t])}(Object(o.useRef)(null),t),u=Object(D.a)(r.isPrivateFile()?r.getUrl():void 0),d=k()(u,1)[0],h=r.isPrivateFile()?d:r.getUrl(),f=Object(o.useRef)(-1),g=Object(o.useCallback)((function(e){f.current=e.timeStamp}),[]),b=Object(o.useCallback)((function(e){e.timeStamp-f.current>300&&p()}),[p]),w=Object(o.useCallback)(V()((function(){p()}),100,{trailing:!0}),[p]),C=Object(o.useCallback)((function(e){-1!==f.current&&e.timeStamp-f.current>300&&p()}),[p]);return i.a.createElement(H.VideoWrapper,{style:{width:a,height:n}},i.a.createElement(H.Video,{ref:m,height:n,width:a,src:h,isMobilePopup:l,poster:r.getThumbUrl(a,n,"contain"),autoPlay:!0,muted:!0,playsInline:!0,controls:!0,loop:!0,onPlay:b,onCanPlay:g,onSeeked:w,onVolumeChange:C,onClick:p}))}var X=Object(o.forwardRef)(R),L=n(12),G=n.n(L),J=520,Z=320;function K(e,t,n){var o=16/9,i=G()(n,"width",0)/G()(n,"height",0);return t&&!e?i>o?{width:127,height:72}:i<1?{width:72,height:72}:{width:72*i,height:72}:t&&e||!t&&!e?i>o?{width:Z,height:180}:i<1?{width:Z,height:Z}:{width:Z,height:Z/i}:i>o?{width:J,height:292}:i<1?{width:J,height:J}:{width:J,height:J/i}}var Q={Image:r.e.div.withConfig({displayName:"ImageFilestyled__Image",componentId:"zrf27x-0"})(["position:relative !important;width:","px !important;min-width:","px !important;height:","px !important;background-image:url(",") !important;background-repeat:no-repeat;background-position:center !important;background-size:cover !important;",""],(function(e){return e.width}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.url}),(function(e){return e.isMobilePopup&&Object(r.d)(["border-radius:12px !important;"])}))};function $(e,t){var n=e.height,o=e.width,a=e.file,r=e.isFullScreen,l=e.isPhone,s=K(r,l,a),p=s.width,c=s.height,m=p*window.devicePixelRatio,u=c*window.devicePixelRatio,d=Object(D.a)(a.isPrivateFile()?a.getThumbUrl(m,u):void 0),h=k()(d,1)[0],f=a.isPrivateFile()?h:a.getThumbUrl(m,u);return f?i.a.createElement(Q.Image,{ref:t,height:n,width:o,url:f,isMobilePopup:l&&!r}):null}var ee=Object(o.forwardRef)($),te=n(7),ne=n.n(te),oe=n(31),ie=n.n(oe),ae=n(64),re=n.n(ae);var le=function(e){var t=Object(o.useState)({state:e}),n=k()(t,2),i=n[0],a=n[1],r=i.resolve,l=i.state;return r&&(r(),i.resolve=void 0),[l,function(e){return new re.a((function(t){a({resolve:t,state:e})}))}]},se=n(1395),pe=n(93),ce=n(76),me=n(1418),ue=n(479),de=n(88),he={FileWrapper:r.e.div.withConfig({displayName:"Filestyled__FileWrapper",componentId:"sc-1h9g6gw-0"})(["display:flex;align-items:center;width:100%;font-weight:500;",""],de.d.PxSize13),ClipWrapper:r.e.div.withConfig({displayName:"Filestyled__ClipWrapper",componentId:"sc-1h9g6gw-1"})(["display:flex;flex-shrink:0;align-items:center;justify-content:center;width:20px;height:18px;"]),Name:r.e.div.withConfig({displayName:"Filestyled__Name",componentId:"sc-1h9g6gw-2"})(["margin-left:4px;overflow:hidden;color:",";text-overflow:ellipsis;white-space:nowrap;"],(function(e){return e.theme.foundationTheme["txt-black-darker"]})),Count:r.e.div.withConfig({displayName:"Filestyled__Count",componentId:"sc-1h9g6gw-3"})(["flex-shrink:0;margin-left:4px;color:",";"],(function(e){return e.theme.foundationTheme["txt-black-dark"]}))};var fe=function(e){var t,n=e.className,o=e.files;return o.length<=0?null:i.a.createElement(he.FileWrapper,{className:n},i.a.createElement(he.ClipWrapper,null,i.a.createElement(S.b,{name:"clip",size:S.a.XSmall,defaultOpacity:.6,hoveredOpacity:.6})),i.a.createElement(he.Name,null,null===(t=o[0])||void 0===t?void 0:t.name),i.a.createElement(he.Count,null,o.length>1?"+".concat(o.length-1):null))},ge=n(1292),be=10,we=10,Ce=24,ye=r.e.button.withConfig({displayName:"Commonstyled__ContentCloseArea",componentId:"sc-18oqljn-0"})(["position:absolute !important;top:0 !important;right:0 !important;display:block;"]),ve=r.e.div.withConfig({displayName:"Commonstyled__ContentCloseButton",componentId:"sc-18oqljn-1"})(["box-sizing:border-box !important;display:"," !important;align-items:center !important;width:24px !important;height:24px !important;padding:4px !important;color:"," !important;cursor:pointer !important;background-color:"," !important;border-radius:12px !important;&:hover{color:"," !important;background-color:"," !important;}"],(function(e){return e.hasPreview?"none":"flex"}),(function(e){return e.theme.foundationTheme["txt-black-dark"]}),(function(e){return e.theme.foundationTheme["bg-black-lighter"]}),(function(e){return e.theme.foundationTheme["txt-black-darkest"]}),(function(e){return e.theme.foundationTheme["bg-black-light"]})),xe=r.e.div.withConfig({displayName:"Commonstyled__CloseText",componentId:"sc-18oqljn-2"})(["display:flex !important;align-items:center !important;max-width:0 !important;overflow:hidden;"," font-weight:bold !important;color:"," !important;white-space:nowrap !important;opacity:0 !important;transition:opacity 0.2s,max-width 0.2s ease-out !important;transform:translateY(-0.25px);"],de.d.PxSize13,(function(e){return e.theme.foundationTheme["bgtxt-absolute-white-dark"]}));var Pe=r.e.div.withConfig({displayName:"Commonstyled__PreviewCloseButton",componentId:"sc-18oqljn-3"})(["box-sizing:border-box !important;display:"," !important;align-items:center !important;"," color:"," !important;cursor:pointer !important;background-color:"," !important;transition:padding 0.2s ease-out,color 0.2s ease-out,background-color 0.2s ease-out !important;"],(function(e){return e.hasPreview?"flex":"none"}),(function(e){return e.isPhone?Object(r.d)(["height:30px !important;padding:5px !important;border-radius:15px !important;"]):Object(r.d)(["height:24px !important;padding:4px !important;border-radius:12px !important;"])}),(function(e){return e.theme.foundationTheme["bgtxt-absolute-white-normal"]}),(function(e){return e.theme.foundationTheme["bgtxt-absolute-black-lightest"]})),je=r.e.button.withConfig({displayName:"Commonstyled__PreviewCloseArea",componentId:"sc-18oqljn-4"})(["position:relative !important;display:block;height:","px !important;",""],(function(e){return e.isPhone?36:28}),(function(e){return!e.isPhone&&Object(r.d)(["&:hover ","{padding:3px 7px 3px 4px !important;color:"," !important;background-color:"," !important;}&:hover ","{max-width:40px !important;opacity:1 !important;}"],Pe,(function(e){return e.theme.foundationTheme["bgtxt-absolute-white-dark"]}),(function(e){return e.theme.foundationTheme["bgtxt-absolute-black-lighter"]}),xe)})),Oe=Object(r.e)(pe.a).withConfig({displayName:"Commonstyled__CloseIcon",componentId:"sc-18oqljn-5"})(["display:block !important;"]),_e=r.e.div.withConfig({displayName:"Commonstyled__BaseWrapper",componentId:"sc-18oqljn-6"})(["position:relative !important;display:flex !important;flex-direction:column !important;align-items:flex-end !important;width:100% !important;height:max-content !important;overflow:visible !important;"]),Me=r.e.div.withConfig({displayName:"Commonstyled__Wrapper",componentId:"sc-18oqljn-7"})(["position:relative !important;display:"," !important;flex-direction:column !important;overflow:hidden !important;cursor:pointer !important;background:rgba(255,255,255,0.95) !important;border-radius:20px !important;box-shadow:0 4px 20px rgba(0,0,0,0.2),inset 0 0 0 1px rgba(255,255,255,0.2) !important;@supports (backdrop-filter:blur()) or (-webkit-backdrop-filter:blur()){background:"," !important;backdrop-filter:blur(60px) !important;}"],(function(e){return e.hidden?"none":"flex"}),(function(e){return e.theme.foundationTheme["bg-header-float"]})),ke=r.e.div.withConfig({displayName:"Commonstyled__ContentHeader",componentId:"sc-18oqljn-8"})(["display:flex !important;align-items:center !important;overflow:hidden !important;"]),Ne=Object(r.e)(ue.a).withConfig({displayName:"Commonstyled__Avatar",componentId:"sc-18oqljn-9"})(["flex-shrink:0 !important;margin-right:10px !important;"]),Ie=r.e.div.withConfig({displayName:"Commonstyled__MessageWrapper",componentId:"sc-18oqljn-10"})(["padding:0 2px !important;margin-top:10px !important;color:black !important;",""],ce.n),Ee=Object(r.e)(E.a).withConfig({displayName:"Commonstyled__Message",componentId:"sc-18oqljn-11"})(["display:inline !important;padding:0 !important;"]),Se=Object(r.e)(fe).withConfig({displayName:"Commonstyled__File",componentId:"sc-18oqljn-12"})(["margin-top:10px !important;"]),We=r.e.div.withConfig({displayName:"Commonstyled__PreviewSection",componentId:"sc-18oqljn-13"})(["box-sizing:border-box !important;width:100% !important;"]),Fe=r.e.div.withConfig({displayName:"Commonstyled__ContentSection",componentId:"sc-18oqljn-14"})(["box-sizing:border-box !important;display:flex !important;flex-direction:column !important;width:100% !important;padding:","px ","px 0 !important;overflow:hidden;"],Ce,Ce),Be=Object(r.e)(me.a).withConfig({displayName:"Commonstyled__Buttons",componentId:"sc-18oqljn-15"})(["box-sizing:border-box !important;"," flex-direction:row !important;justify-content:center !important;& > a:not(:first-child){margin-left:6px !important;}"],de.d.PxSize15),Te=r.e.div.withConfig({displayName:"Commonstyled__ChannelName",componentId:"sc-18oqljn-16"})(["flex-shrink:1 !important;",""],Object(ge.a)()),ze=r.e.div.withConfig({displayName:"Commonstyled__Dot",componentId:"sc-18oqljn-17"})(["flex-shrink:0 !important;margin:0 6px !important;"]),Ae=r.e.div.withConfig({displayName:"Commonstyled__Time",componentId:"sc-18oqljn-18"})(["flex-shrink:0 !important;",""],de.d.PxSize11),qe=r.e.div.withConfig({displayName:"Commonstyled__MessageInfo",componentId:"sc-18oqljn-19"})(["display:flex !important;flex-shrink:1 !important;margin-right:","px !important;overflow:hidden !important;font-weight:400 !important;"," & *{color:"," !important;}"],(function(e){return e.hasPreview?6:30}),de.d.PxSize11,(function(e){return e.theme.foundationTheme["txt-black-dark"]})),Ue={ContentCloseArea:ye,ContentCloseButton:ve,CloseText:xe,PreviewCloseArea:je,PreviewCloseButton:Pe,CloseIcon:Oe,BaseWrapper:_e,Wrapper:Me,ContentHeader:ke,Avatar:Ne,MessageWrapper:Ie,Message:Ee,PreviewSection:We,ContentSection:Fe,File:Se,Buttons:Be,ChannelName:Te,Dot:ze,Time:Ae,MessageInfo:qe},Ve=r.e.div.withConfig({displayName:"Carouselstyled__UIWrapper",componentId:"sc-1j8lcbr-0"})(["position:absolute !important;top:0 !important;right:10px !important;bottom:0 !important;left:10px !important;display:none !important;align-items:center !important;justify-content:space-between !important;pointer-events:none !important;"]),Ye={UIWrapper:Ve,NextButton:r.e.div.withConfig({displayName:"Carouselstyled__NextButton",componentId:"sc-1j8lcbr-1"})(["display:flex !important;align-items:center !important;justify-content:center !important;width:","px !important;height:","px !important;color:"," !important;pointer-events:auto !important;cursor:pointer !important;background-color:"," !important;border-radius:50% !important;box-shadow:0 0 2px 1px rgba(0,0,0,0.05),0 2px 6px rgba(0,0,0,0.08),inset 0 0 2px rgba(255,255,255,0.12) !important;opacity:1 !important;",""],(function(e){return e.isPCFullscreen?36:24}),(function(e){return e.isPCFullscreen?36:24}),(function(e){return e.theme.foundationTheme["txt-black-dark"]}),(function(e){return e.theme.foundationTheme["bg-white-low"]}),(function(e){return e.hide&&Object(r.d)(["opacity:0 !important;"])})),Chevron:Object(r.e)(pe.a).withConfig({displayName:"Carouselstyled__Chevron",componentId:"sc-1j8lcbr-2"})(["",""],(function(e){return e.right&&Object(r.d)(["transform:rotate(180deg) !important;"])})),Wrapper:r.e.div.withConfig({displayName:"Carouselstyled__Wrapper",componentId:"sc-1j8lcbr-3"})(["position:relative !important;width:","px !important;height:","px !important;background-color:"," !important;&:hover ","{display:flex !important;}"],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.theme.foundationTheme["bg-white-high"]}),Ve),ScrollWrapper:r.e.div.withConfig({displayName:"Carouselstyled__ScrollWrapper",componentId:"sc-1j8lcbr-4"})(["width:100% !important;height:100% !important;overflow:scroll !important;"," ",""],Object(ge.b)(),(function(e){return e.snap&&Object(r.d)(["scroll-snap-type:x mandatory !important;"])})),ContentsWrapper:r.e.div.withConfig({displayName:"Carouselstyled__ContentsWrapper",componentId:"sc-1j8lcbr-5"})(["display:flex !important;"]),Content:r.e.div.withConfig({displayName:"Carouselstyled__Content",componentId:"sc-1j8lcbr-6"})(["display:flex !important;justify-content:center !important;scroll-snap-align:center !important;scroll-snap-stop:normal !important;width:100% !important;height:100% !important;"]),Page:r.e.div.withConfig({displayName:"Carouselstyled__Page",componentId:"sc-1j8lcbr-7"})(["position:absolute !important;right:","px !important;bottom:","px !important;padding:4px 6px !important;font-weight:500 !important;"," color:"," !important;background-color:"," !important;border-radius:10px !important;"],(function(e){return e.isPCFullscreen?Ce:we}),(function(e){return e.isPCFullscreen?Ce:we}),de.d.PxSize11,(function(e){return e.theme.foundationTheme["bgtxt-absolute-white-dark"]}),(function(e){return e.theme.foundationTheme["bgtxt-absolute-black-lightest"]}))};var De=function(e){var t=e.isFullScreen,n=e.isPhone,a=e.files,r=t&&!n,l=Object(o.useMemo)((function(){return G()(a,0)}),[a]),s=Object(o.useMemo)((function(){return K(t,n,l)}),[l,t,n]).height,p=Object(o.useMemo)((function(){return function(e,t){return e&&!t?J:!e&&t?127:Z}(t,n)}),[t,n]),c=Object(o.useState)(0),m=k()(c,2),u=m[0],d=m[1],h=Object(o.useState)(null),f=k()(h,2),g=f[0],b=f[1],w=Object(o.useRef)(new Array(a.length));Object(o.useEffect)((function(){w.current.forEach((function(e,t){a[t].type===A.b.Video&&e.pause()}),[]),a[u].type===A.b.Video&&w.current[u].play()}),[a,u]);var C=Object(o.useCallback)((function(e,o){return e.type===A.b.Image?i.a.createElement(Ye.Content,{key:e.id},i.a.createElement(ee,{ref:function(e){w.current[o]=e},width:p,height:s,file:e,isFullScreen:t,isPhone:n})):e.type===A.b.Video?i.a.createElement(Ye.Content,{key:e.id},i.a.createElement(X,{ref:function(e){w.current[o]=e},width:p,height:s,file:e,isMobilePopup:n&&!t})):null}),[s,p,t,n]),y=le(!0),v=k()(y,2),x=v[0],P=v[1],j=Object(o.useCallback)((function(){P(!0)}),[P]),O=Object(o.useMemo)((function(){return Object(se.a)(g,{duration:300,axis:"horizontal"},j)}),[j,g]),_=Object(o.useCallback)((function(){var e,t=null!==(e=null==g?void 0:g.scrollLeft)&&void 0!==e?e:0,n=Math.floor((t+p/2)/p);n!==u&&d(n)}),[g,p,u]),M=Object(o.useCallback)((function(e){e.stopPropagation(),u>0&&P(!1).then((function(){return O(-p)}))}),[u,p,O,P]),N=Object(o.useCallback)((function(e){e.stopPropagation(),u<a.length-1&&P(!1).then((function(){return O(p)}))}),[u,a.length,p,O,P]),I=Object(o.useMemo)((function(){var e;return i.a.createElement(i.a.Fragment,null,!n&&i.a.createElement(Ye.UIWrapper,null,i.a.createElement(Ye.NextButton,{hide:u<=0,isPCFullscreen:r,onClick:M},i.a.createElement(Ye.Chevron,{name:"chevron-left",size:r?S.a.Small:S.a.XSmall,defaultOpacity:1})),i.a.createElement(Ye.NextButton,{hide:u>=a.length-1,isPCFullscreen:r,onClick:N},i.a.createElement(Ye.Chevron,{name:"chevron-left",size:r?S.a.Small:S.a.XSmall,defaultOpacity:1,right:!0}))),i.a.createElement(Ye.Page,{isPCFullscreen:r},ne()(e="".concat(u+1,"/")).call(e,a.length)))}),[n,u,a.length,r,N,M]);return i.a.createElement(Ye.Wrapper,{width:p,height:s},i.a.createElement(Ye.ScrollWrapper,{onScroll:_,ref:b,snap:x},i.a.createElement(Ye.ContentsWrapper,null,ie()(a).call(a,C))),I)},He=n(1422),Re=r.e.div.withConfig({displayName:"PreviewAttachmentstyled__YoutubeWrapper",componentId:"ith67n-0"})(["flex:none !important;width:","px !important;height:","px !important;overflow:hidden !important;transform:translateZ(0) !important;",""],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.isMobilePopup&&Object(r.d)(["border-radius:12px !important;"])})),Xe={Youtube:Object(r.e)(He.a).withConfig({displayName:"PreviewAttachmentstyled__Youtube",componentId:"ith67n-1"})(["display:block !important;"]),YoutubeWrapper:Re,WebPage:r.e.div.withConfig({displayName:"PreviewAttachmentstyled__WebPage",componentId:"ith67n-2"})(["position:relative !important;width:","px !important;height:","px !important;background-image:url(",");background-position:center !important;background-size:cover !important;",""],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.url}),(function(e){return e.isMobilePopup&&Object(r.d)(["border-radius:12px !important;"])}))};var Le=function(e){var t=e.message,n=e.onClick,o=t.getOrderedFiles(),a=F()(o,(function(e){return e.type===A.b.Video&&Object(z.b)(e.contentType)})),r=F()(o,(function(e){return e.type===A.b.Image})),l=t.getWebPage(),s=t.isFullScreen(),p=y.a.isPhone(),c=T()(o).call(o,(function(e){return e.isPreviewable()}));if((!p||s)&&c.length>1&&!q.b)return i.a.createElement(De,{files:c,isFullScreen:s,isPhone:p});if(a)return i.a.createElement(X,{height:K(s,p,a).height,width:K(s,p,a).width,file:a,isMobilePopup:p&&!s,onEvent:n});if(r){var m=K(s,p,r),u=m.width,d=m.height;return i.a.createElement(ee,{width:u,height:d,file:r,isFullScreen:s,isPhone:p})}if(l){if(l.isYouTube()){var h=K(s,p,l),f=h.width,g=h.height;return i.a.createElement(Xe.YoutubeWrapper,{width:f,height:g,isMobilePopup:p&&!s},i.a.createElement(Xe.Youtube,{width:f,height:g,videoId:l.getYouTubeId(),onClick:n}))}var b=l.getPreviewThumbUrl();if(b)return i.a.createElement(Xe.WebPage,{height:K(s,p,l).height,width:K(s,p,l).width,url:b,isMobilePopup:p&&!s})}return null},Ge=n(6),Je=n.n(Ge),Ze=n(8),Ke=n.n(Ze),Qe=n(4),$e=n.n(Qe),et=n(9),tt=n.n(et),nt=n(1),ot=n.n(nt);function it(e,t){var n=Je()(e);if(Ke.a){var o=Ke()(e);t&&(o=T()(o).call(o,(function(t){return $e()(e,t).enumerable}))),n.push.apply(n,o)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){ot()(e,t,n[t])})):tt.a?Object.defineProperties(e,tt()(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,$e()(n,t))}))}return e}var rt=Object(r.e)(Ue.ContentCloseArea).withConfig({displayName:"FullScreenPushMessagestyled__ContentCloseArea",componentId:"nxoc25-0"})(["padding-top:","px !important;padding-right:","px !important;opacity:"," !important;"],Ce,Ce,(function(e){return e.show?1:0})),lt=Object(r.e)(Ue.PreviewCloseArea).withConfig({displayName:"FullScreenPushMessagestyled__PreviewCloseArea",componentId:"nxoc25-1"})(["opacity:"," !important;"],(function(e){return e.show?1:0})),st=Object(r.e)(Ue.Wrapper).withConfig({displayName:"FullScreenPushMessagestyled__Wrapper",componentId:"nxoc25-2"})(["width:100% !important;padding-bottom:","px !important;"],(function(e){return e.hasOnlyPreview?0:Ce})),pt=r.e.div.withConfig({displayName:"FullScreenPushMessagestyled__Name",componentId:"nxoc25-3"})(["flex-shrink:1 !important;margin-right:10px !important;font-weight:bold !important;"," color:"," !important;",""],de.d.PxSize15,(function(e){return e.theme.foundationTheme["txt-black-darkest"]}),Object(ge.a)()),ct=Object(r.e)(Ue.MessageWrapper).withConfig({displayName:"FullScreenPushMessagestyled__MessageWrapper",componentId:"nxoc25-4"})([""," > div{"," "," border-radius:0 !important;}div.empty-line{height:","px;}"],ce.n,de.d.PxSize16,(function(e){var t=e.hasPreview;return Object(ge.a)(t?8:14,de.b.Typo16,"px")}),de.a.Lh16*de.c),mt=Object(r.e)(Ue.Buttons).withConfig({displayName:"FullScreenPushMessagestyled__Buttons",componentId:"nxoc25-5"})(["padding:20px ","px 0 !important;"],Ce),ut=at(at({},Ue),{},{ContentCloseArea:rt,PreviewCloseArea:lt,Wrapper:st,Name:pt,MessageWrapper:ct,Buttons:mt});function dt(e,t){var n=Je()(e);if(Ke.a){var o=Ke()(e);t&&(o=T()(o).call(o,(function(t){return $e()(e,t).enumerable}))),n.push.apply(n,o)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){ot()(e,t,n[t])})):tt.a?Object.defineProperties(e,tt()(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,$e()(n,t))}))}return e}var ft=Object(r.e)(Ue.ContentCloseArea).withConfig({displayName:"PartialScreenPushMessagestyled__ContentCloseArea",componentId:"sc-1zryw7-0"})(["padding-top:","px !important;padding-right:","px !important;",""],we,we,(function(e){var t=e.show;return!y.a.isPhone()&&Object(r.d)(["opacity:"," !important;"],t?1:0)})),gt=Object(r.e)(Ue.PreviewCloseArea).withConfig({displayName:"PartialScreenPushMessagestyled__PreviewCloseArea",componentId:"sc-1zryw7-1"})(["",""],(function(e){var t=e.show;return!y.a.isPhone()&&Object(r.d)(["opacity:"," !important;"],t?1:0)})),bt=Object(r.e)(Ue.Wrapper).withConfig({displayName:"PartialScreenPushMessagestyled__Wrapper",componentId:"sc-1zryw7-2"})(["width:100% !important;padding-bottom:","px !important;"],(function(e){return e.hasOnlyPreview?0:we})),wt=r.e.div.withConfig({displayName:"PartialScreenPushMessagestyled__PreviewSection",componentId:"sc-1zryw7-3"})(["width:100% !important;"]),Ct=Object(r.e)(Ue.ContentSection).withConfig({displayName:"PartialScreenPushMessagestyled__ContentSection",componentId:"sc-1zryw7-4"})(["padding:","px ","px 0 !important;"],we,we),yt=r.e.div.withConfig({displayName:"PartialScreenPushMessagestyled__Name",componentId:"sc-1zryw7-5"})(["margin-right:6px !important;font-weight:bold !important;"," color:"," !important;",""],de.d.PxSize13,(function(e){return e.theme.foundationTheme["txt-black-darkest"]}),Object(ge.a)()),vt=Object(r.e)(Ue.MessageWrapper).withConfig({displayName:"PartialScreenPushMessagestyled__MessageWrapper",componentId:"sc-1zryw7-6"})(["margin-top:4px !important;> div{"," "," border-radius:0 !important;}div.empty-line{height:","px;}"],de.d.PxSize15,(function(e){var t=e.hasPreview;return Object(ge.a)(t?4:8,de.b.Typo15,"px")}),de.a.Lh15*de.c),xt=Object(r.e)(Ue.Buttons).withConfig({displayName:"PartialScreenPushMessagestyled__Buttons",componentId:"sc-1zryw7-7"})(["padding:","px ","px 0 !important;"],we,we),Pt=r.e.div.withConfig({displayName:"PartialScreenPushMessagestyled__ChannelName",componentId:"sc-1zryw7-8"})(["display:none !important;"]),jt=r.e.div.withConfig({displayName:"PartialScreenPushMessagestyled__Dot",componentId:"sc-1zryw7-9"})(["display:none !important;"]),Ot=ht(ht({},Ue),{},{ContentCloseArea:ft,PreviewCloseArea:gt,Wrapper:bt,PreviewSection:wt,ContentSection:Ct,Name:yt,MessageWrapper:vt,Buttons:xt,ChannelName:Pt,Dot:jt});var _t=function(e){var t=e.className,n=e.time,a=e.name,r=e.message,l=e.avatarUrl,s=e.hidden,p=void 0!==s&&s,m=e.onClickClose,u=void 0===m?c.a:m,d=e.onClickBody,h=void 0===d?c.a:d,f=e.onClick,b=Object(C.a)().translate,v=Object(g.a)(),x=y.a.isPhone(),P=Object(w.a)(),j=Object(o.useRef)(0),_=Object(N.a)(),M=k()(_,3),W=M[0],F=M[1],B=M[2];Object(o.useEffect)((function(){r&&!p&&r.isFullScreen()&&P(r,O.a.View)}),[p]);var T=Object(o.useMemo)((function(){return r.hasPreview()}),[r]),z=Object(o.useMemo)((function(){return!x&&r.isFullScreen()?ut:Ot}),[x,r]),A=Object(o.useMemo)((function(){return i.a.createElement(z.PreviewSection,null,i.a.createElement(Le,{message:r,onClick:f}))}),[z,r,f]),q=Object(o.useCallback)((function(){clearTimeout(j.current),F()}),[F]),U=Object(o.useCallback)((function(){j.current=window.setTimeout(B,500)}),[B]),V=Object(o.useMemo)((function(){return r.hasBlocks()||r.isDeletedMessage()||r.getWebPage()?i.a.createElement(E.a,{key:"FullScreenMessage-".concat(r.id),message:r,withGiantEmoji:!1}):null}),[r]),Y=Object(o.useMemo)((function(){return i.a.createElement(z.ContentHeader,null,i.a.createElement(z.Avatar,{url:l,size:x||!r.isFullScreen()?S.a.Normal:S.a.Large}),i.a.createElement(z.Name,null,a),i.a.createElement(z.MessageInfo,{hasPreview:T},i.a.createElement(z.ChannelName,null,null==v?void 0:v.name),i.a.createElement(z.Dot,null," · "),i.a.createElement(z.Time,null,Object(I.j)(n))))}),[z,x,l,a,null==v?void 0:v.name,n,T,r]),D=Object(o.useMemo)((function(){return i.a.createElement(z.ContentSection,null,Y,V&&i.a.createElement(z.MessageWrapper,{hasPreview:T},V),!T&&i.a.createElement(z.File,{files:r.files}))}),[z,Y,V,T,r]),H=Object(o.useMemo)((function(){return i.a.createElement(z.Buttons,{message:r})}),[z,r]),R=Object(o.useMemo)((function(){return i.a.createElement(z.ContentCloseArea,{show:W,onClick:u},i.a.createElement(z.ContentCloseButton,{hasPreview:T},i.a.createElement(z.CloseIcon,{name:"cancel",size:S.a.XSmall,defaultOpacity:1})))}),[z,W,u,T]),X=Object(o.useMemo)((function(){return i.a.createElement(z.PreviewCloseArea,{isPhone:x,show:W,onClick:u},i.a.createElement(z.PreviewCloseButton,{isPhone:x,hasPreview:T},i.a.createElement(z.CloseIcon,{name:"cancel",size:x?S.a.Small:S.a.XSmall,defaultOpacity:1}),!x&&i.a.createElement(z.CloseText,null,b("ch.common.close"))))}),[z,x,W,T,u,b]);return p?null:i.a.createElement(z.BaseWrapper,{className:t,onMouseEnter:q,onMouseLeave:U},X,i.a.createElement(z.Wrapper,{hidden:p,hasPreview:T,hasOnlyPreview:T&&!r.hasMessagePopupContents()&&!r.hasButton(),onClick:h},T&&A,(r.hasMessagePopupContents()||!T&&r.hasButton())&&D,r.hasButton()&&H,R))};function Mt(e,t){var n=Je()(e);if(Ke.a){var o=Ke()(e);t&&(o=T()(o).call(o,(function(t){return $e()(e,t).enumerable}))),n.push.apply(n,o)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){ot()(e,t,n[t])})):tt.a?Object.defineProperties(e,tt()(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,$e()(n,t))}))}return e}var Nt=Object(r.e)(Ue.ContentCloseArea).withConfig({displayName:"BubblePushMessagestyled__ContentCloseArea",componentId:"sc-156f1ro-0"})(["padding-top:","px !important;padding-right:","px !important;"],be,be),It=Object(r.e)(Ue.ContentCloseButton).withConfig({displayName:"BubblePushMessagestyled__ContentCloseButton",componentId:"sc-156f1ro-1"})(["color:"," !important;background-color:"," !important;&:hover{color:"," !important;background-color:"," !important;}"],(function(e){return e.theme.foundationTheme["txt-black-dark"]}),(function(e){return e.theme.foundationTheme["bg-black-lighter"]}),(function(e){return e.theme.foundationTheme["txt-black-darkest"]}),(function(e){return e.theme.foundationTheme["bg-black-light"]})),Et=Object(r.e)(Ue.Wrapper).withConfig({displayName:"BubblePushMessagestyled__Wrapper",componentId:"sc-156f1ro-2"})(["width:100% !important;padding-bottom:","px !important;"],be),St=r.e.div.withConfig({displayName:"BubblePushMessagestyled__MainWrapper",componentId:"sc-156f1ro-3"})(["display:flex !important;padding:","px ","px 0 !important;"],be,be),Wt=r.e.div.withConfig({displayName:"BubblePushMessagestyled__PreviewSection",componentId:"sc-156f1ro-4"})(["min-width:unset !important;min-height:unset !important;margin-right:10px !important;border-radius:12px !important;"]),Ft=Object(r.e)(Ue.ContentHeader).withConfig({displayName:"BubblePushMessagestyled__ContentHeader",componentId:"sc-156f1ro-5"})(["height:24px !important;"]),Bt=r.e.div.withConfig({displayName:"BubblePushMessagestyled__ContentSection",componentId:"sc-156f1ro-6"})(["display:flex !important;flex-direction:column !important;width:100% !important;overflow:hidden !important;"]),Tt=Object(r.e)(Ue.Avatar).withConfig({displayName:"BubblePushMessagestyled__Avatar",componentId:"sc-156f1ro-7"})(["margin-right:6px !important;"]),zt=r.e.div.withConfig({displayName:"BubblePushMessagestyled__Name",componentId:"sc-156f1ro-8"})(["margin-right:6px !important;font-weight:bold !important;"," color:"," !important;",""],de.d.PxSize13,(function(e){return e.theme.foundationTheme["txt-black-darkest"]}),Object(ge.a)()),At=r.e.div.withConfig({displayName:"BubblePushMessagestyled__Time",componentId:"sc-156f1ro-9"})(["flex-shrink:0 !important;margin-right:30px !important;font-weight:400 !important;"," color:"," !important;"],de.d.PxSize11,(function(e){return e.theme.foundationTheme["txt-black-dark"]})),qt=Object(r.e)(Ue.MessageWrapper).withConfig({displayName:"BubblePushMessagestyled__MessageWrapper",componentId:"sc-156f1ro-10"})([""," margin-top:4px !important;> div{"," "," border-radius:0 !important;}"],ce.n,de.d.PxSize15,(function(e){var t=e.hasFileWithoutPreview;return Object(ge.a)(t?1:2,de.b.Typo15,"px")})),Ut=Object(r.e)(Ue.File).withConfig({displayName:"BubblePushMessagestyled__File",componentId:"sc-156f1ro-11"})(["margin-top:4px !important;"]),Vt=Object(r.e)(Ue.Buttons).withConfig({displayName:"BubblePushMessagestyled__Buttons",componentId:"sc-156f1ro-12"})(["padding:","px ","px 0 !important;"],be,be),Yt=kt(kt({},Ue),{},{ContentCloseArea:Nt,ContentCloseButton:It,Wrapper:Et,MainWrapper:St,PreviewSection:Wt,ContentHeader:Ft,ContentSection:Bt,Avatar:Tt,Name:zt,Time:At,MessageWrapper:qt,File:Ut,Buttons:Vt});var Dt=function(e){var t=e.className,n=e.time,a=e.name,r=e.message,l=e.avatarUrl,s=e.hidden,p=void 0!==s&&s,m=e.onClickClose,u=void 0===m?c.a:m,d=e.onClickBody,h=void 0===d?c.a:d,f=e.onClick,g=Object(o.useMemo)((function(){return r.hasPreview()}),[r]),b=Object(o.useMemo)((function(){return i.a.createElement(Yt.PreviewSection,null,i.a.createElement(Le,{message:r,onClick:f}))}),[r,f]),w=Object(o.useMemo)((function(){return r.hasBlocks()||r.isDeletedMessage()||r.getWebPage()?i.a.createElement(E.a,{key:"BubbleMessage-".concat(r.id),message:r,withGiantEmoji:!1}):null}),[r]),C=Object(o.useMemo)((function(){return i.a.createElement(Yt.ContentHeader,null,!g&&i.a.createElement(Yt.Avatar,{url:l,size:S.a.Normal}),i.a.createElement(Yt.Name,null,a),i.a.createElement(Yt.Time,null,Object(I.j)(n)))}),[g,l,a,n]),y=Object(o.useMemo)((function(){return i.a.createElement(Yt.ContentSection,null,C,w&&i.a.createElement(Yt.MessageWrapper,{hasFileWithoutPreview:!g&&r.hasFile()},w),(!g||!w)&&i.a.createElement(Yt.File,{files:r.files}))}),[C,w,r,g]),v=Object(o.useMemo)((function(){return i.a.createElement(Yt.Buttons,{message:r})}),[r]),x=Object(o.useMemo)((function(){return i.a.createElement(Yt.ContentCloseArea,{onClick:u},i.a.createElement(Yt.ContentCloseButton,null,i.a.createElement(pe.a,{name:"cancel",size:S.a.XSmall,defaultOpacity:1})))}),[u]);return p?null:i.a.createElement(Yt.Wrapper,{className:t,hidden:p,hasPreview:g,onClick:h},i.a.createElement(Yt.MainWrapper,null,g&&b,y),r.hasButton()&&v,x)};var Ht=function(){return Object(d.d)(h.a.pluginSelectors.getPlugin)},Rt=n(19),Xt=Object(r.f)(["0%,50%{opacity:0;}100%{opacity:1;}"]),Lt=Object(r.f)(["0%,50%{opacity:0;transform:translateY(-10px);}100%{opacity:1;transform:translateY(0);}"]),Gt=r.e.div.withConfig({displayName:"PushMessageWrapperstyled__BaseWrapper",componentId:"jcduf9-0"})(["display:flex !important;flex-direction:column !important;align-items:center !important;"]),Jt=Object(r.e)(Gt).withConfig({displayName:"PushMessageWrapperstyled__PCFullScreenPushMessageWrapper",componentId:"jcduf9-1"})(["position:fixed !important;top:50% !important;left:50% !important;width:520px !important;transform:translate(-50%,-50%) !important;animation:"," 0.4s cubic-bezier(0.1,0,0.6,1) !important;"],Xt),Zt=Object(r.e)(Gt).withConfig({displayName:"PushMessageWrapperstyled__PCPopupPushMessageWrapper",componentId:"jcduf9-2"})(["position:fixed !important;width:320px !important;animation:"," 0.4s cubic-bezier(0.1,0,0.6,1) !important;",""],Lt,(function(e){return"left"===e.pushMessagePosition.pluginPosition?Object(r.d)(["left:","px !important;bottom:","px !important;"],e.pushMessagePosition.xPosition,e.pushMessagePosition.yPosition):Object(r.d)(["right:","px !important;bottom:","px !important;"],e.pushMessagePosition.xPosition,e.pushMessagePosition.yPosition)})),Kt=Object(r.e)(Gt).withConfig({displayName:"PushMessageWrapperstyled__MobileFullScreenPushMessageWrapper",componentId:"jcduf9-3"})(["position:fixed !important;top:50% !important;left:50% !important;width:320px !important;transform:translate(-50%,-50%) !important;animation:"," 0.4s cubic-bezier(0.1,0,0.6,1) !important;"],Xt),Qt=Object(r.e)(Gt).withConfig({displayName:"PushMessageWrapperstyled__MobilePopupPushMessageWrapper",componentId:"jcduf9-4"})(["position:fixed !important;right:10px !important;left:10px !important;width:calc(100% - 20px) !important;max-width:520px !important;",""],(function(e){return"top"===e.mobileBubblePosition?Object(r.d)(["top:20px !important;"]):Object(r.d)(["bottom:calc(10px + env(safe-area-inset-bottom)) !important;"])}));var $t=function(e){var t=e.lastMessage,n=e.children,a=Object(g.a)(),r=Ht(),l=Object(d.d)(h.a.uiSelectors.showChannelButton),s=Object(o.useMemo)((function(){var e=Object(Rt.h)(),t=r.getMargin(e),n=!1===l||!a.isInOperation()&&a.isAwayHidden(),o=r.getImage(e),i=null!=o&&o.height?o.height/2+20:76;return{xPosition:t.marginX,yPosition:t.marginY+(n?0:i),pluginPosition:r.getPosition(e)}}),[a,r,l]);return y.a.isPhone()?t.isFullScreen()?i.a.createElement(Kt,null,n):i.a.createElement(Qt,{mobileBubblePosition:r.mobileBubblePosition},n):t.isFullScreen()?i.a.createElement(Jt,null,n):i.a.createElement(Zt,{pushMessagePosition:s},n)},en=n(1289),tn=n(52),nn=Object(r.f)(["0%,50%{opacity:0;}100%{opacity:1;}"]),on={Wrapper:r.e.div.withConfig({displayName:"PushMessagestyled__Wrapper",componentId:"vqm8p7-0"})(["position:relative !important;z-index:"," !important;"],(function(e){return e.zIndex})),Dimmer:r.e.div.withConfig({displayName:"PushMessagestyled__Dimmer",componentId:"vqm8p7-1"})(["position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;background-color:"," !important;animation:"," 0.4s cubic-bezier(0.1,0,0.6,1) !important;"],tn.a.black40,nn),FormPushMessage:Object(r.e)(en.j).withConfig({displayName:"PushMessagestyled__FormPushMessage",componentId:"vqm8p7-2"})(["margin-top:6px !important;"])};var an=Object(j.a)({initializer:function(e,t,n){t.showPushMessage&&P.b.isEmpty()&&n(f.a.emojiActions.requestGetEmojiInfo())},injectToProps:{showPushMessage:h.a.uiSelectors.showPushMessage}})((function(){var e=Object(d.c)(),t=Object(C.a)().translate,n=Object(r.g)(),a=Object(g.a)(),l=Object(d.d)(h.a.pushSelectors.getPushInfo),p=Object(d.d)(h.a.uiSelectors.showPushMessage),m=Object(d.d)(h.a.emojiSelectors.isFetching),P=Object(w.a)(),j=l.getLastMessage(),M=Object(b.a)("message")(j),k=M.avatarUrl,N=M.name,I=Object(s.d)(),E=Object(o.useMemo)((function(){return v.a.getHidePopup()||!p}),[p]),S=Object(o.useCallback)((function(){P(j,O.a.Click)}),[j,P]),W=Object(o.useCallback)((function(){e(f.a.userActions.requestClosePopUp()).promise.then((function(){e(f.a.pushActions.setPushNeedToShow({needToShow:!1}))})).catch(c.a)}),[e]),F=Object(o.useCallback)((function(e){e.stopPropagation(),W()}),[W]),B=Object(o.useCallback)((function(t){if("a"===t.target.tagName||"A"===t.target.tagName){t.stopPropagation();var n=t.target.href;return n&&e(f.a.uiActions.clickedRedirect({redirectUrl:n})),S(),void W()}if(v.a.messengerNewTabMode()){var o=l.id;return x.b.open(a,"/user-chats/".concat(o)),void e(f.a.pushActions.setPushNeedToShow({needToShow:!1}))}e(f.a.uiActions.setShowMessenger({showMessenger:!0,disableRedirect:!0})),e(f.a.uiActions.goUserChat({userChatId:l.id}))}),[e,a,l.id,S,W]),T=Object(o.useMemo)((function(){return j.isFullScreen()&&!E?i.a.createElement(on.Dimmer,{onClick:F}):null}),[j,F,E]),z=Object(o.useMemo)((function(){return j.hasPreview()||j.hasMessagePopupContents()||j.hasButton()}),[j]),A=Object(o.useMemo)((function(){if(!z)return null;var e={key:j.id,message:j,name:N,time:l.frontUpdatedAt,avatarUrl:k,hidden:E,onClickClose:F,onClickBody:B,onClick:S};return y.a.isPhone()&&!j.isFullScreen()?i.a.createElement(Dt,e):i.a.createElement(_t,e)}),[k,B,F,z,E,j,N,S,l.frontUpdatedAt]),q=Object(o.useMemo)((function(){var e,o;if(j.isFullScreen()||!j.form||!j.form.isCustomForm())return null;var a=j.form.inputs,r=null!==(e=null===(o=a[0])||void 0===o?void 0:o.label)&&void 0!==e?e:"",l=1===a.length?t("ch.popup.question"):t("ch.popup.question_count",a.length);return i.a.createElement(on.FormPushMessage,{title:r,description:l,color:n.color,bright:n.bright,showCloseIcon:!z,onClick:B,onClickClose:F})}),[B,F,z,j,n.bright,n.color,t]);return!I||E||m?null:u.a.createPortal(i.a.createElement(on.Wrapper,{zIndex:Object(_.d)()},T,i.a.createElement($t,{lastMessage:j},A,q)),I)})),rn=i.a.lazy((function(){return Promise.resolve().then(n.bind(null,388))}));t.default=function(){var e=Object(s.d)();return i.a.createElement(a.d,{history:l.a.getHistory()},i.a.createElement(a.c,{render:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(rn,null),i.a.createElement(r.a,{target:e},i.a.createElement(an,null)))}}))}}}]);